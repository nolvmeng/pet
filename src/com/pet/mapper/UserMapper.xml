<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.pet.mapper.UserMapper">
	<select id="getUserById" parameterType="int" resultType="User">
		select * from user where u_id=#{u_id}
	</select>
	
		<select id="finUserByEmail" parameterType="String" resultType="User">
		select * from user where email=#{email}
	</select>
	
	<!-- 注册用户 -->
	<insert id="addUser" parameterType="User">
	    insert into user(u_id,email,user_name,user_pwd,user_activationKey,user_avatar) 
	              values(null, #{email}, #{user_name}, #{user_pwd},#{user_activationKey},#{user_avatar})
	</insert>
	<!-- 登录验证 -->
	<select id="findUser" parameterType="User" resultType="User">
		select * from user where user_name=#{user_name} and user_pwd=#{user_pwd}
	</select>
	<!-- 更新用户信息 -->
	<update id="updateStatus" parameterType="User" >
	  UPDATE  user  SET  user_status=#{user_status} WHERE u_id=#{u_id} ;
	</update>
	
	
</mapper>